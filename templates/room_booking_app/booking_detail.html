{%extends 'base/base.html'%}
{%block title%}Booking details{%endblock title%}
{%block content%}
<div class="py-4 h4 text-center user-detail-title">Booking Details</div>

<div class="row  justify-content-center">
    <div class="card booking-details-wrapper">
       <div class="col-md-12 user-details-container">

           <div class="row shadow-sm mx-2 mt-2">
               <div class="col book-detail-title-text">
                   Meeting Room   :
               </div>
               <div class="col">
                   {{booking.room_id}}
                  ( {{booking.room_id.location}} )
               </div>
           </div>

           <div class="row shadow-sm mx-2 mt-2">
               <div class="col book-detail-title-text">
                   Meeting Purpose
               </div>
               <div class="col">
                   {{booking.title}}
               </div>
           </div>

           <div class="row shadow-sm mx-2 mt-2">
               <div class="col book-detail-title-text">
                   Meeting Time
               </div>
               <div class="col">
                   {{booking.date_start}}  <label style="color: #cb6015; font-weight: bolder;">To</label> <br>{{booking.date_end}}
               </div>
           </div>
             <div class="row shadow-sm  mx-2 mt-2">
               <div class="col book-detail-title-text">
                   Booked by
               </div>
               <div class="col">
                   {{booking.user_id}}
               </div>
           </div>
           <div class="row shadow-sm  mx-2 mt-2">
               <div class="col book-detail-title-text">
                   Date Booked
               </div>
               <div class="col">
                   {{booking.date_created}}
               </div>
           </div>


          <div class="row shadow-sm  mx-2 mt-2">
               <div class="col book-detail-title-text">
                   Status
               </div>

               <div class="col">
                   {%if booking.status == 0%}
                   Pending
                   {%elif booking.status == 1%}
                   Approved
                   {%elif booking.status == 2%}
                   Rejected
                   {%else%}
                   Cancelled
                   {%endif%}
               </div>
         </div>
<div class="col-md-12 booking-details-buttons">
     <div class="row shadow-sm  mx-2 mt-2">
         <div class="col book-detail-title-text">
           <a href="{%url 'room_detail' booking.room_id_id%}" class="btn approve-booking-btn mt-2">
               <i class="bi bi-arrow-left-circle"></i>
               Bookings
           </a>
       </div>
        {%if booking.user_id == user and booking.status == 0 or booking.status == 1%}
      <div class="col book-detail-title-text">
           <a href="{%url 'cancel_booking' booking.pk%}" class="btn reject-booking-btn mt-2">Cancel</a>
       </div>
         {%endif%}
          {%if role == 'approver' or role == 'administrator'%}

            {%if booking.status == 0%}
       <div class="col book-detail-title-text">
           <a href="{%url 'approve_booking' booking.pk%}" class="btn approve-booking-btn mt-2">Approve</a>
       </div>
       <div class="col">
          <a href="{%url 'reject_booking' booking.pk%}" class="btn reject-booking-btn mt-2">Reject</a>
       </div>
         {%elif booking.status == 1%}
      <div class="col">
          <a href="{%url 'reject_booking' booking.pk%}" class="btn reject-booking-btn mt-2">Reject</a>
       </div>
         {%elif booking.status == 2%}
          <div class="col">
          <a href="{%url 'approve_booking' booking.pk%}" class="btn approve-booking-btn mt-2">Approve</a>
        </div>
         {%else%}
         <label style="color: #cb6015"> booking cancelled</label>
         {%endif%}
         {%endif%}
   </div>
</div>
</div>

</div>
</div>

{%endblock content%}