{%extends 'base/base.html'%}
{%load static%}
{%block title%}dashboard{%endblock title%}
{%block content%}
<div class="col-md-12 text-center room-title">Rooms</div>
<div class="room-bookings-card">
    <div class="justify-content-between h3 d-flex align-items-center py-2 text-center">
        {%if role == 'administrator'%}
        <div class="py-2 float-left text-center h6">
            <a href="{%url 'adminstrator_page'%}" class="btn btn-lg back-to-dashboard-button">
                <i class="bi bi-arrow-left-circle"></i>
                Dashboard
            </a>
        </div>
        <div class="float-right"><a class="btn add-room-button" href="{%url 'create_room'%}"> Add Room</a></div>
        {%else%}
        <div class="py-2 float-left text-center h4">Available Rooms</div>
        {%endif%}
    </div>

     <table class="table table-striped table-bordered data-table">
          <thead>
            <tr>
                <th scope="col">No.</th>
              <th scope="col">Name</th>
              <th scope="col">Location</th>
              <th scope="col">Capacity</th>
              <th scope="col">Status</th>
              <th scope="col">View</th>

            </tr>
          </thead>
          <tbody>
          {%for room in rooms%}
          <tr>
              <td>{{forloop.counter}}</td>
              <td class="text-capitalize room-fields">{{room.title}}</td>
              <td class="text-capitalize room-fields">{{room.location}}</td>
              <td class="room-fields">{{room.capacity}}</td>
              {%if room.is_suspended%}
              <td class="room-fields" style="color: #cb6015">Suspended</td>
              {%else%}
              {%if room.is_active == 1%}
              <td class="room-fields">Active</td>
              {%else%}
              <td class="room-fields">Not Active</td>
              {%endif%}
              {%endif%}
              <td class="room-fields">
                    <div class="btn-group dropup">
                      <button class="btn btn-secondary btn-sm dropdown-toggle dropdown-toggle-split" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Action
                      </button>
                      <div class="dropdown-menu">
                          <a href="{%url 'room_detail' room.pk%}" class="dropdown-item">View</a>
                          {%if role == "administrator"%}
                          <a href="{%url 'room_update' room.id%}" class="dropdown-item update_disable_item_link">Edit</a>
                          <a href="{%url 'suspend_room' room.id%}" class="dropdown-item update_disable_item_link">Suspend</a>
                          {%if room.is_active == 1%}
                          <a href="{%url 'activate_deactivate_room' room.pk%}" class="dropdown-item update_disable_item_link">Disable</a>
                          {%else%}
                          <a href="{%url 'activate_deactivate_room' room.pk%}" class="dropdown-item activate_item_link">activate</a>
                          {%endif%}
                           {%endif%}
                      </div>
                     </div>
              </td>
          </tr>

          {%endfor%}
          </tbody>
    </table>

</div>


{%endblock content%}
